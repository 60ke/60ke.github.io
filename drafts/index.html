<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Drafts | LookForAdmin的博客</title><meta property="og:title" content="Drafts - LookForAdmin的博客"><meta property="og:type" content="article"><meta name=Keywords content="golang,go语言,go语言笔记,LookForAdmin,Rust,分布式,Python,公众号"><meta name=description content="Drafts"><meta name=author content="LookForAdmin"><meta property="og:url" content="https://60ke.github.io/drafts/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><link rel=alternate type=application/rss+xml href=https://60ke.github.io/drafts/index.xml title=LookForAdmin的博客><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<link rel=stylesheet href=/css/douban.css><link rel=stylesheet href=/css/other.css></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://60ke.github.io>LookForAdmin的博客</a><p class=description>专注于Golang、Python、Rust、分布式存储</p></div><div><nav id=nav-menu class=clearfix><a href=https://60ke.github.io>首页</a>
<a class=current href=https://60ke.github.io/drafts/ title=草稿箱>草稿箱</a>
<a href=https://60ke.github.io/archives/ title=归档>归档</a>
<a href=https://60ke.github.io/about/ title=关于>关于</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/go%E7%9A%84%E6%84%9A%E8%A0%A2bug/ title=go的愚蠢bug>go的愚蠢bug</a></h1></header><date class="post-meta meta-date">2021年12月20日</date><div class=post-content>一个":=&ldquo;导致的bug 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 func gen_tx_input(addr, to, input, txtype string, wt *Wallet) (string, []byte, error) { var contract_bytes []byte if txtype == types.EvmDeployTx || txtype == types.ReglangDeployTx { to = "0x" di := deployInput{} var err error if err = strict_json_struct_unmarshal(input, &di); err != nil { return "", contract_bytes, nil } if di.Sol == "" { return "", contract_bytes, fmt.Errorf("sol can't be empty") } if di.ContractName == "" { return "", contract_bytes, fmt.Errorf("contract_name can't be empty") } fmt.Printf("compile_sol %v", di) contract_bytes, err := compile_sol(di.Sol, di.ContractName, &di.Ci) // contract_bytes, err = compile_sol(di.Sol, di.ContractName, &di.Ci)……</div><p class=readmore><a href=https://60ke.github.io/drafts/go%E7%9A%84%E6%84%9A%E8%A0%A2bug/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/go%E6%B1%87%E7%BC%96/ title=go汇编>go汇编</a></h1></header><date class="post-meta meta-date">2021年12月13日</date><div class=post-content>go汇编传送门: 首先创建一个pkg.go文件,内容如下： 1 2 package pkg var Id = 9527 用以下命令查看的Go语言程序对应的伪汇编代码： 1 2 3 4 5 go tool compile -S pkg.go # 或 go build -gcflags=-S pkg.go # -N关闭内联汇编 go build -gcflags="-S -N" pkg.go 其中gcflags,为go compile flags。关于gcflags的使用帮助可以使用go help build查看。运行……</div><p class=readmore><a href=https://60ke.github.io/drafts/go%E6%B1%87%E7%BC%96/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/golang%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/ title=跨平台编译>跨平台编译</a></h1></header><date class="post-meta meta-date">2021年11月8日</date><div class=post-content>golang跨平台编译 运行go tool dist list查看golang当前支持的平台 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 aix/ppc64 android/386 android/amd64 android/arm android/arm64 darwin/amd64 darwin/arm64 dragonfly/amd64 freebsd/386 freebsd/amd64 freebsd/arm freebsd/arm64 illumos/amd64 ios/amd64 ios/arm64 js/wasm linux/386 linux/amd64 linux/arm linux/arm64 linux/mips linux/mips64 linux/mips64le linux/mipsle linux/ppc64 linux/ppc64le linux/riscv64 linux/s390x netbsd/386 netbsd/amd64 netbsd/arm netbsd/arm64 openbsd/386 openbsd/amd64 openbsd/arm openbsd/arm64 openbsd/mips64 plan9/386 plan9/amd64 plan9/arm solaris/amd64 windows/386 windows/amd64 windows/arm windows/arm64 额外的说一句,go竟然支持i……</div><p class=readmore><a href=https://60ke.github.io/drafts/golang%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/go%E5%B9%B6%E5%8F%91map/ title=go并发map>go并发map</a></h1></header><date class="post-meta meta-date">2021年10月26日</date><div class=post-content>golang默认map不是并发安全的 (Why are map operations not defined to be atomic?)[https://golang.org/doc/faq#atomic_maps] After long discussion it was decided that the typical use of maps did not require safe access from multiple goroutines, and in those cases where it did, the map was probably part of some larger data structure or computation that was already synchronized. Therefore requiring that all map operations grab a mutex would slow down most programs and add safety to few. This was not an easy decision, however, since it means uncontrolled map access can crash the program. The language does not preclude atomic map updates. When required, such as when hosting an untrusted program, the implementation could interlock map access. Map access is unsafe only when updates are occurring. As long……</div><p class=readmore><a href=https://60ke.github.io/drafts/go%E5%B9%B6%E5%8F%91map/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/linux%E5%88%A4%E6%96%AD%E7%A3%81%E7%9B%98%E6%98%AF%E5%90%A6%E4%B8%BA%E5%9B%BA%E6%80%81/ title=linux判断磁盘是否为固态>linux判断磁盘是否为固态</a></h1></header><date class="post-meta meta-date">2021年10月20日</date><div class=post-content>参见：https://blog.csdn.net/sch0120/article/details/77725658 1 判断cat /sys/block/*/queue/rotational的返回值（其中*为你的硬盘设备名称,例如sda等等）,如果返回1则表示磁盘可旋转,那么就是HDD……</div><p class=readmore><a href=https://60ke.github.io/drafts/linux%E5%88%A4%E6%96%AD%E7%A3%81%E7%9B%98%E6%98%AF%E5%90%A6%E4%B8%BA%E5%9B%BA%E6%80%81/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/%E5%8D%95%E8%AF%8D%E6%9C%AC/ title=单词本>单词本</a></h1></header><date class="post-meta meta-date">2021年10月11日</date><div class=post-content>&ldquo;bare[英: beə(r)] metal[英: ˈmetl] " : 裸机……</div><p class=readmore><a href=https://60ke.github.io/drafts/%E5%8D%95%E8%AF%8D%E6%9C%AC/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/ title=一些问题>一些问题</a></h1></header><date class="post-meta meta-date">2021年10月8日</date><div class=post-content>linux ps -ef看不到当前进程解惑 如下脚本: cpu_usage.sh 1 2 3 4 while true; do grep 'cpu ' /proc/stat | awk '{usage=($2+$4)*100/($2+$4+$5)} END {print int(usage)}' sleep 3 done 然后添加x权限运行 chmod +x cpu_usage.sh ./cpu_usage.sh 此时我们运行ps -ef |grep cpu_usage.sh看不到相关进程。但是我们使用bash ./cpu_usage.sh可以看到相关进程。亦或者我们在cpu_usage.sh中加入she……</div><p class=readmore><a href=https://60ke.github.io/drafts/%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/emacs/ title=emacs>emacs</a></h1></header><date class="post-meta meta-date">2021年9月29日</date><div class=post-content>emacs 介绍 关于emacs的一些疑问 What English abbreviations are &ldquo;setq&rdquo;, &ldquo;car&rdquo;, and &ldquo;cdr&rdquo; in LISP? author:Rich-Alderson EDIT: I misremembered the computer model number, which Panicz Godek points out. It was the IBM 704, rather than the related 709. What English abbreviations are “setq”, “car”, and “cdr” in LISP? This question takes us back to the 1950s and the architecture of the IBM 704 computer on which LISP was first implemented. First, let’s look at the special form SETQ, which assigns a value to an atom. Originally, there was only the special form SET, which evaluates the first argument to get the atom to which to assign the value of the evaluated……</div><p class=readmore><a href=https://60ke.github.io/drafts/emacs/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/linux%E7%AC%94%E8%AE%B0/ title=linux笔记>linux笔记</a></h1></header><date class="post-meta meta-date">2021年9月27日</date><div class=post-content>zsh tmux 1 2 3 4 5 6 alias ta='tmux attach -t' alias tad='tmux attach -d -t' alias ts='tmux new-session -s' alias tl='tmux list-sessions' alias tksv='tmux kill-server' alias tkss='tmux kill-session -t' spacevim \y 复制到系统粘贴板 spc f v d 打开配置文件 spc b n 切换到下一个buffer set -a set -a 全称为:allexport set -a指从设置开始标记所有新的和修改过的用于输出的变量 Take away: Yes, set +a unsets set -a but variables do not become un exported because of that. Each variable then needs to be un exported or unset. set +……</div><p class=readmore><a href=https://60ke.github.io/drafts/linux%E7%AC%94%E8%AE%B0/>阅读全文</a></p></article><article class=post><header><h1 class=post-title><a href=https://60ke.github.io/drafts/go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F8-5-goroutine%E8%A7%A3%E6%83%91/ title=go语言圣经8.5--goroutine解惑>go语言圣经8.5--goroutine解惑</a></h1></header><date class="post-meta meta-date">2021年8月10日</date><div class=post-content>test 下面的代码是修改过的,中文版的go程序设计语言,8.5并行循环的最后一个示例: 代码虽有修改,但是只改变了并发的功能,并发的逻辑与源码没什么区别 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 package main import ( "fmt" "sync" "time" ) func main() { var wg sync.WaitGroup sizes := make(chan int64) wg.Add(1)……</div><p class=readmore><a href=https://60ke.github.io/drafts/go%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8F8-5-goroutine%E8%A7%A3%E6%83%91/>阅读全文</a></p></article><ol class=page-navigator><li class=current><a href=https://60ke.github.io/drafts/>1</a></li><li><a href=https://60ke.github.io/drafts/page/2/>2</a></li><li><a href=https://60ke.github.io/drafts/page/3/>3</a></li><li><span>...</span></li><li><a href=https://60ke.github.io/drafts/page/12/>12</a></li><li class=next><a href=https://60ke.github.io/drafts/page/2/>下一页</a></li></ol></div><footer id=footer><div>&copy; 2022 <a href=https://60ke.github.io>LookForAdmin的博客 By LookForAdmin</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><a id=rocket href=#top></a>
<script type=text/javascript src='/js/totop.js?v=0.0.0' async></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
<script src=/js/douban.js></script></div><div id=secondary><section class=widget><form id=search action=https://60ke.github.io/search/ method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://60ke.github.io>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://60ke.github.io/posts/%E4%BB%BB%E5%8A%A1%E8%AE%A1%E5%88%92/ title=任务计划>任务计划</a></li><li><a href=https://60ke.github.io/posts/Ubuntu%E9%BB%91%E5%B1%8F%E6%97%A0%E6%B3%95%E7%99%BB%E5%BD%95/ title=Ubuntu黑屏无法登录>Ubuntu黑屏无法登录</a></li><li><a href=https://60ke.github.io/posts/githubAction/ title=Github使用Action自动编译发布go项目>Github使用Action自动编译发布go项目</a></li><li><a href=https://60ke.github.io/posts/quorum%E9%9A%90%E7%A7%81%E4%BA%A4%E6%98%93%E7%9A%84%E7%BB%93%E6%9E%84%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90%E5%8F%8A%E4%B8%8EBlockMaze%E7%9A%84%E6%AF%94%E8%BE%83/ title=Quorum隐私交易的结构流程分析及与BlockMaze的比较>Quorum隐私交易的结构流程分析及与BlockMaze的比较</a></li><li><a href=https://60ke.github.io/posts/%E6%B5%85%E8%B0%88%E5%85%B1%E8%AF%86%E5%8D%8F%E8%AE%AE/ title=浅谈共识协议>浅谈共识协议</a></li><li><a href=https://60ke.github.io/posts/p2pHolePunching/ title=P2pHolePunching>P2pHolePunching</a></li><li><a href=https://60ke.github.io/posts/go%E6%B3%9B%E5%9E%8B%E5%AE%9E%E8%B7%B5/ title=go泛型实践>go泛型实践</a></li><li><a href=https://60ke.github.io/posts/antlr4/ title="write a antlr4 visitor with golang">write a antlr4 visitor with golang</a></li><li><a href=https://60ke.github.io/posts/%E9%AB%98%E6%80%A7%E8%83%BDweb%E6%9C%8D%E5%8A%A1%E4%B8%8E%E5%B9%B6%E5%8F%91%E6%B5%8B%E8%AF%95/ title=高性能web服务与并发测试>高性能web服务与并发测试</a></li><li><a href=https://60ke.github.io/posts/ewasm%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BC%80%E5%8F%91/ title=ewasm虚拟机开发>ewasm虚拟机开发</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/categories/>分类</a></h3><ul class=widget-list><li><a href=https://60ke.github.io/categories/Linux/>Linux (1)</a></li><li><a href=https://60ke.github.io/categories/mac/>mac (2)</a></li><li><a href=https://60ke.github.io/categories/MySQL/>MySQL (2)</a></li><li><a href=https://60ke.github.io/categories/default/>default (11)</a></li><li><a href=https://60ke.github.io/categories/go/>go (3)</a></li><li><a href=https://60ke.github.io/categories/hexo/>hexo (1)</a></li><li><a href=https://60ke.github.io/categories/Linux/>Linux (1)</a></li><li><a href=https://60ke.github.io/categories/mac/>mac (2)</a></li><li><a href=https://60ke.github.io/categories/old/>old (3)</a></li><li><a href=https://60ke.github.io/categories/others/>others (12)</a></li><li><a href=https://60ke.github.io/categories/php/>php (6)</a></li><li><a href=https://60ke.github.io/categories/python/>python (19)</a></li><li><a href=https://60ke.github.io/categories/python%E7%88%AC%E8%99%AB/>python爬虫 (8)</a></li><li><a href=https://60ke.github.io/categories/rust/>rust (8)</a></li><li><a href=https://60ke.github.io/categories/shell/>shell (1)</a></li><li><a href=https://60ke.github.io/categories/wasm/>wasm (1)</a></li><li><a href=https://60ke.github.io/categories/%E5%A5%B9/>她 (1)</a></li><li><a href=https://60ke.github.io/categories/%E6%9D%82%E7%BB%AA/>杂绪 (3)</a></li><li><a href=https://60ke.github.io/categories/%E8%87%AA%E5%8A%A8%E5%8C%96/>自动化 (1)</a></li></ul></section><section class=widget><h3 class=widget-title><a href=/tags/>标签</a></h3><div class=tagcloud><a href=https://60ke.github.io/tags/blog/>blog</a>
<a href=https://60ke.github.io/tags/c/>c</a>
<a href=https://60ke.github.io/tags/emacs/>emacs</a>
<a href=https://60ke.github.io/tags/english/>english</a>
<a href=https://60ke.github.io/tags/go/>go</a>
<a href=https://60ke.github.io/tags/golang/>golang</a>
<a href=https://60ke.github.io/tags/go%E6%B1%87%E7%BC%96/>go汇编</a>
<a href=https://60ke.github.io/tags/homebrew/>homebrew</a>
<a href=https://60ke.github.io/tags/ios/>ios</a>
<a href=https://60ke.github.io/tags/linux/>linux</a>
<a href=https://60ke.github.io/tags/lisp/>lisp</a>
<a href=https://60ke.github.io/tags/mac/>mac</a>
<a href=https://60ke.github.io/tags/maomaomao/>maomaomao</a>
<a href=https://60ke.github.io/tags/mysql/>mysql</a>
<a href=https://60ke.github.io/tags/other/>other</a>
<a href=https://60ke.github.io/tags/others/>others</a>
<a href=https://60ke.github.io/tags/pycharm/>pycharm</a>
<a href=https://60ke.github.io/tags/python/>python</a>
<a href=https://60ke.github.io/tags/rust/>rust</a>
<a href=https://60ke.github.io/tags/scrapy/>scrapy</a>
<a href=https://60ke.github.io/tags/sgx/>sgx</a>
<a href=https://60ke.github.io/tags/shell/>shell</a>
<a href=https://60ke.github.io/tags/sublime/>sublime</a>
<a href=https://60ke.github.io/tags/vscode/>vscode</a>
<a href=https://60ke.github.io/tags/wasm/>wasm</a>
<a href=https://60ke.github.io/tags/xpath/>xpath</a>
<a href=https://60ke.github.io/tags/%E5%B9%B6%E5%8F%91/>并发</a>
<a href=https://60ke.github.io/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/>并发编程</a>
<a href=https://60ke.github.io/tags/%E5%BC%80%E5%8F%91/>开发</a>
<a href=https://60ke.github.io/tags/%E6%80%BB%E7%BB%93/>总结</a>
<a href=https://60ke.github.io/tags/%E6%AD%A3%E5%88%99/>正则</a>
<a href=https://60ke.github.io/tags/%E6%B3%9B%E5%9E%8B/>泛型</a>
<a href=https://60ke.github.io/tags/%E7%88%AC%E8%99%AB/>爬虫</a>
<a href=https://60ke.github.io/tags/%E7%AC%94%E8%AE%B0/>笔记</a>
<a href=https://60ke.github.io/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/>自动化</a>
<a href=https://60ke.github.io/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0/>跨平台</a>
<a href=https://60ke.github.io/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/>路由器</a>
<a href=https://60ke.github.io/tags/%E9%80%86%E5%90%91/>逆向</a></div></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://60ke.github.io/old_blogs/ title=旧文章>旧文章</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://60ke.github.io/index.xml>文章 RSS</a></li></ul></section></div></div></div></div></body></html>