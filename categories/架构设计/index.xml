<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æ¶æ„è®¾è®¡ on LookForAdmin</title><link>https://60ke.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/</link><description>Recent content in æ¶æ„è®¾è®¡ on LookForAdmin</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 01 Jul 2023 15:11:47 +0800</lastBuildDate><atom:link href="https://60ke.github.io/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/index.xml" rel="self" type="application/rss+xml"/><item><title>å¦‚ä½•æ„å»ºä¸€ä¸ªæ”¯æŒåƒä¸‡çº§äº¤æ˜“é‡çš„æ•°æ®ä¸­å°ç³»ç»Ÿ</title><link>https://60ke.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%94%AF%E6%8C%81%E5%8D%83%E4%B8%87%E7%BA%A7%E4%BA%A4%E6%98%93%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0%E7%B3%BB%E7%BB%9F/</link><pubDate>Sat, 01 Jul 2023 15:11:47 +0800</pubDate><guid>https://60ke.github.io/posts/%E5%A6%82%E4%BD%95%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%94%AF%E6%8C%81%E5%8D%83%E4%B8%87%E7%BA%A7%E4%BA%A4%E6%98%93%E9%87%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%8F%B0%E7%B3%BB%E7%BB%9F/</guid><description>&lt;h1 id="å¦‚ä½•æ„å»ºä¸€ä¸ªæ”¯æŒåƒä¸‡çº§äº¤æ˜“é‡çš„æ•°æ®ä¸­å°ç³»ç»Ÿ">å¦‚ä½•æ„å»ºä¸€ä¸ªæ”¯æŒåƒä¸‡çº§äº¤æ˜“é‡çš„æ•°æ®ä¸­å°ç³»ç»Ÿ
&lt;/h1>&lt;blockquote>
&lt;p>éšç€ä¼ä¸šä¸šåŠ¡å¤æ‚åº¦å¢é•¿ï¼Œäº¤æ˜“ã€è®¢å•ã€è´¦æˆ·ã€èµ„é‡‘ç­‰æ•°æ®æ¥æºæ—¥ç›Šå¤šæ ·åŒ–ï¼Œå¦‚ä½•é«˜æ•ˆæ±‡èšè¿™äº›é«˜é¢‘æ•°æ®ã€ç»Ÿä¸€å»ºæ¨¡ã€æ”¯æŒå¤šç»´æŸ¥è¯¢ï¼Œå¹¶åœ¨æ€§èƒ½ã€ä¸€è‡´æ€§ä¸æ‰©å±•æ€§ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œæ˜¯æ•°æ®ä¸­å°è®¾è®¡çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚&lt;/p>
&lt;p>æœ¬æ–‡ç»“åˆå®é™…é¡¹ç›®ç»éªŒï¼Œåˆ†äº«æˆ‘ä»¬å¦‚ä½•æ„å»ºä¸€ä¸ªæ”¯æŒ&lt;strong>åƒä¸‡çº§æ—¥äº¤æ˜“é‡&lt;/strong>çš„æ•°æ®ä¸­å°ç³»ç»Ÿï¼Œæ¶µç›–éœ€æ±‚åˆ†æã€æŠ€æœ¯å®ç°ã€ç®—æ³•ä¼˜åŒ–ã€æ€§èƒ½ä¼˜åŒ–ã€ç¨³å®šæ€§ä¿éšœã€æˆæœ¬æ§åˆ¶ä¸æœªæ¥æ¼”è¿›æ–¹å‘ï¼Œå¸Œæœ›ä¸ºè¯»è€…æä¾›å®ç”¨å‚è€ƒã€‚&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h2 id="-ä¸šåŠ¡éœ€æ±‚ä¸åœºæ™¯åˆ†æ">ğŸ’¡ ä¸šåŠ¡éœ€æ±‚ä¸åœºæ™¯åˆ†æ
&lt;/h2>&lt;p>åœ¨è®¾è®¡æ•°æ®ä¸­å°ä¹‹å‰ï¼Œæ˜ç¡®ä¸šåŠ¡éœ€æ±‚å’Œåœºæ™¯è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯æˆ‘ä»¬é¡¹ç›®ä¸­é¢ä¸´çš„å…¸å‹åœºæ™¯åŠå…¶æŠ€æœ¯è¦æ±‚ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>åœºæ™¯&lt;/strong>&lt;/th>
&lt;th>&lt;strong>éœ€æ±‚&lt;/strong>&lt;/th>
&lt;th>&lt;strong>æŠ€æœ¯æŒ‘æˆ˜&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>é«˜é¢‘æ”¯ä»˜å¤„ç†&lt;/strong>&lt;/td>
&lt;td>äºšç§’çº§æŸ¥è¯¢å“åº”ï¼Œå¼ºä¸€è‡´æ€§&lt;/td>
&lt;td>é«˜å¹¶å‘å†™å…¥ï¼Œä½å»¶è¿ŸæŸ¥è¯¢&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>è´¢åŠ¡å¯¹è´¦&lt;/strong>&lt;/td>
&lt;td>å¼ºä¸€è‡´æ€§ï¼Œæ•°æ®å¯è¿½æº¯&lt;/td>
&lt;td>æ•°æ®å®Œæ•´æ€§ï¼Œå®¡è®¡æ—¥å¿—ç®¡ç†&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>è¿è¥çœ‹æ¿&lt;/strong>&lt;/td>
&lt;td>å¤šç»´åº¦èšåˆï¼Œæ”¯æŒåˆ†é’Ÿçº§åˆ·æ–°&lt;/td>
&lt;td>é«˜æ€§èƒ½ OLAP æŸ¥è¯¢ï¼Œç¼“å­˜ä¼˜åŒ–&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>è·¨å¢ƒç»“ç®—&lt;/strong>&lt;/td>
&lt;td>å¤šå¸ç§æ”¯æŒï¼Œå›½é™…åŒ–æ—¶é—´æ ¼å¼&lt;/td>
&lt;td>æ±‡ç‡è½¬æ¢ç²¾åº¦ï¼Œåˆè§„æ€§ï¼ˆå¦‚ GDPRï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>é£æ§åˆ†æ&lt;/strong>&lt;/td>
&lt;td>å®æ—¶å¼‚å¸¸æ£€æµ‹ï¼Œç§’çº§å“åº”&lt;/td>
&lt;td>æµå¼è®¡ç®—ï¼Œå®æ—¶æœºå™¨å­¦ä¹ æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>ä¼˜å…ˆçº§&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>å®æ—¶æ€§&lt;/strong>ï¼šæ”¯ä»˜å’Œé£æ§åœºæ™¯è¦æ±‚äºšç§’çº§å“åº”ã€‚&lt;/li>
&lt;li>&lt;strong>ä¸€è‡´æ€§&lt;/strong>ï¼šè´¢åŠ¡å¯¹è´¦è¦æ±‚å¼ºä¸€è‡´æ€§ï¼Œè¿è¥çœ‹æ¿å¯æ¥å—æœ€ç»ˆä¸€è‡´æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>æ‰©å±•æ€§&lt;/strong>ï¼šæ”¯æŒæ•°æ®é‡å¢é•¿ï¼ˆå¦‚äº¿çº§äº¤æ˜“ï¼‰å’Œæ–°åœºæ™¯ï¼ˆå¦‚å¤šäº‘éƒ¨ç½²ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™äº›éœ€æ±‚å†³å®šäº†æ•°æ®ä¸­å°éœ€è¦åŒæ—¶æ”¯æŒå®æ—¶ä¸ç¦»çº¿è®¡ç®—ã€å¼ºä¸€è‡´æ€§ä¸é«˜æ€§èƒ½æŸ¥è¯¢ï¼Œå¹¶å…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§å’Œåˆè§„æ€§ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®ä¸­å°">ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®ä¸­å°ï¼Ÿ
&lt;/h2>&lt;p>åœ¨ä¸€ä¸ªå…¸å‹çš„å¤§å‹ä¸šåŠ¡ç³»ç»Ÿä¸­ï¼Œäº¤æ˜“æ•°æ®åˆ†æ•£åœ¨å¤šä¸ªç³»ç»Ÿæˆ–å¾®æœåŠ¡ä¸­ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ç”¨æˆ·ä¸‹å•&lt;/strong>ï¼šå­˜å‚¨åœ¨ç”µå•†ç³»ç»Ÿï¼›&lt;/li>
&lt;li>&lt;strong>æ”¯ä»˜è®°å½•&lt;/strong>ï¼šç”±æ”¯ä»˜ç½‘å…³æœåŠ¡ç®¡ç†ï¼›&lt;/li>
&lt;li>&lt;strong>ç»“ç®—æ•°æ®&lt;/strong>ï¼šå½’å±èµ„é‡‘ç³»ç»Ÿï¼›&lt;/li>
&lt;li>&lt;strong>é€€æ¬¾è®°å½•&lt;/strong>ï¼šç”±å”®åç³»ç»Ÿå¤„ç†ã€‚&lt;/li>
&lt;/ul>
&lt;p>å¦‚æœå„ä¸šåŠ¡å›¢é˜Ÿç‹¬ç«‹é‡‡é›†ã€å­˜å‚¨å’Œè®¡ç®—æ•°æ®ï¼Œä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>é‡å¤å¼€å‘&lt;/strong>ï¼šä¸åŒå›¢é˜Ÿé‡å¤å®ç°æ•°æ®å¤„ç†é€»è¾‘ï¼Œèµ„æºæµªè´¹ï¼›&lt;/li>
&lt;li>&lt;strong>å£å¾„ä¸ä¸€è‡´&lt;/strong>ï¼šåŒä¸€æŒ‡æ ‡å®šä¹‰ä¸åŒï¼Œå¯¼è‡´æ•°æ®å†²çªï¼›&lt;/li>
&lt;li>&lt;strong>æŸ¥è¯¢æ€§èƒ½å·®&lt;/strong>ï¼šåˆ†æ•£æ•°æ®éš¾ä»¥é«˜æ•ˆæ•´åˆï¼ŒæŸ¥è¯¢å“åº”æ…¢ï¼›&lt;/li>
&lt;li>&lt;strong>æ•°æ®æ··ä¹±&lt;/strong>ï¼šç¼ºä¹ç»Ÿä¸€ç®¡ç†ï¼Œå®Œæ•´æ€§å’Œä¸€è‡´æ€§éš¾ä»¥ä¿éšœã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æ•°æ®ä¸­å°çš„æ ¸å¿ƒä»·å€¼&lt;/strong>åœ¨äºï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å¤šæºæ•°æ®ç»Ÿä¸€&lt;/strong>ï¼šæ±‡èšåˆ†æ•£çš„äº¤æ˜“æ•°æ®ï¼›&lt;/li>
&lt;li>&lt;strong>æ ‡å‡†åŒ–å»ºæ¨¡&lt;/strong>ï¼šæä¾›ä¸€è‡´çš„æ•°æ®å®šä¹‰å’Œç»“æ„ï¼›&lt;/li>
&lt;li>&lt;strong>æ··åˆè®¡ç®—&lt;/strong>ï¼šæ”¯æŒå®æ—¶æŸ¥è¯¢å’Œç¦»çº¿åˆ†æï¼›&lt;/li>
&lt;li>&lt;strong>ä¸šåŠ¡èµ‹èƒ½&lt;/strong>ï¼šæ»¡è¶³è´¦åŠ¡åˆ†æã€èµ„é‡‘è¿½è¸ªã€æŠ¥è¡¨ç”Ÿæˆã€å®¡è®¡å›æŸ¥ç­‰å¤šåœºæ™¯éœ€æ±‚ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-ç³»ç»Ÿæ€»ä½“æ¶æ„è®¾è®¡">ğŸ§± ç³»ç»Ÿæ€»ä½“æ¶æ„è®¾è®¡
&lt;/h2>&lt;p>ä»¥ä¸‹æ˜¯æ•°æ®ä¸­å°çš„æ¶æ„ç¤ºæ„å›¾ï¼Œå±•ç¤ºæ•°æ®æµè½¬å’Œæ¨¡å—åä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">flowchart TD
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> A[äº¤æ˜“ç³»ç»Ÿ] --&amp;gt;|Kafka| B[æ•°æ®é‡‡é›†å±‚]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> C[æ”¯ä»˜ç³»ç»Ÿ] --&amp;gt;|Kafka| B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> D[é€€æ¬¾ç³»ç»Ÿ] --&amp;gt;|HTTP API| B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> E[ç»“ç®—ç³»ç»Ÿ] --&amp;gt;|Binlog| B
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> B --&amp;gt; F[æ•°æ®å¤„ç†å±‚]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> F --&amp;gt; G[æ ‡å‡†åŒ–äº¤æ˜“æ¨¡å‹]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> F --&amp;gt; H[èšåˆæŒ‡æ ‡è®¡ç®—]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> F --&amp;gt; I[å¼‚å¸¸æ•°æ®ä¿®å¤]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> G --&amp;gt; J[MySQL åˆ†åº“åˆ†è¡¨]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> H --&amp;gt; K[ClickHouse åˆ†å¸ƒå¼é›†ç¾¤]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> I --&amp;gt; L[å®¡è®¡æ—¥å¿—è¡¨]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> subgraph å­˜å‚¨å±‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> J
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> K
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> L
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> M[Redis é›†ç¾¤]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> J --&amp;gt; N[æ¥å£æœåŠ¡å±‚]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> K --&amp;gt; N
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> L --&amp;gt; N
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> M --&amp;gt; N
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> N --&amp;gt; O1[æŠ¥è¡¨æŸ¥è¯¢ API]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> N --&amp;gt; O2[èµ„é‡‘è¿½è¸ª API]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> N --&amp;gt; O3[è¿è¥çœ‹æ¿ API]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> N --&amp;gt; P[å¤šç§Ÿæˆ·æƒé™æ ¡éªŒæ¨¡å—]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> subgraph è¿ç»´ç›‘æ§
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Q[ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> R[Prometheus + Grafana]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> S[æ•…éšœæ¢å¤ä¸å‘Šè­¦]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> end
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> F --&amp;gt; Q
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> N --&amp;gt; R
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Q --&amp;gt; S
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä¸»è¦æ¨¡å—è¯´æ˜">ä¸»è¦æ¨¡å—è¯´æ˜
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>æ¨¡å—&lt;/strong>&lt;/th>
&lt;th>&lt;strong>ä½œç”¨&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>æ•°æ®é‡‡é›†å±‚&lt;/strong>&lt;/td>
&lt;td>é€šè¿‡ Kafkaã€Binlogã€HTTP ç­‰æ–¹å¼ä»å¤šç³»ç»Ÿé‡‡é›†æ•°æ®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æ•°æ®å¤„ç†å±‚&lt;/strong>&lt;/td>
&lt;td>è´Ÿè´£æ ‡å‡†åŒ–å»ºæ¨¡ã€èšåˆè®¡ç®—ã€å¼‚å¸¸æ•°æ®ä¿®æ­£&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å­˜å‚¨å±‚&lt;/strong>&lt;/td>
&lt;td>MySQL åˆ†åº“åˆ†è¡¨ + ClickHouse åˆ†å¸ƒå¼é›†ç¾¤ + Redis é›†ç¾¤&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æ¥å£æœåŠ¡å±‚&lt;/strong>&lt;/td>
&lt;td>æä¾› REST / gRPC æ¥å£ï¼Œä¾›ä¸šåŠ¡ç³»ç»ŸæŸ¥è¯¢&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ä»»åŠ¡è°ƒåº¦å±‚&lt;/strong>&lt;/td>
&lt;td>æ”¯æŒ T+0ã€T+1 æŠ¥è¡¨ç”Ÿæˆã€æ•°æ®å¯¹è´¦å’Œå¼‚å¸¸å¤„ç†ä»»åŠ¡&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h2 id="-å…³é”®æŠ€æœ¯å®ç°ç»†èŠ‚">ğŸ”§ å…³é”®æŠ€æœ¯å®ç°ç»†èŠ‚
&lt;/h2>&lt;h3 id="1-å¤šæºäº¤æ˜“æ•°æ®æ¥å…¥">1ï¸âƒ£ å¤šæºäº¤æ˜“æ•°æ®æ¥å…¥
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Kafka ä¸»é€šé“&lt;/strong>ï¼šå„ç³»ç»Ÿé€šè¿‡ Kafka çš„ &lt;code>trade-topic&lt;/code> æŠ•é€’äº‹ä»¶ï¼Œå•åˆ†åŒºæ”¯æŒé«˜ååé‡ï¼ˆ&amp;gt;10ä¸‡ QPSï¼‰ã€‚ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•åˆ†é…åˆ†åŒºé”®ï¼ˆåŸºäº &lt;code>user_id&lt;/code>ï¼‰ï¼Œç¡®ä¿æ•°æ®å‡åŒ€åˆ†å¸ƒï¼Œé˜²æ­¢çƒ­ç‚¹åˆ†åŒºã€‚&lt;/li>
&lt;li>&lt;strong>è¡¥å……æ–¹å¼&lt;/strong>ï¼šç¬¬ä¸‰æ–¹ç»“ç®—å¹³å°æ•°æ®é€šè¿‡ Airflow è°ƒåº¦çš„å®šæ—¶ä»»åŠ¡æ‹‰å–ï¼Œæˆ–é€šè¿‡ HTTP API å¼‚æ­¥å¯¹æ¥ã€‚&lt;/li>
&lt;li>&lt;strong>ä¸€è‡´æ€§ä¿éšœ&lt;/strong>ï¼šKafka æ¶ˆè´¹è€…ä½¿ç”¨äº‹åŠ¡æäº¤ï¼Œç¡®ä¿æ¶ˆæ¯æ¶ˆè´¹å¹‚ç­‰æ€§ï¼›å¯¹äº Binlogï¼Œé‡‡ç”¨ Canal è§£æ MySQL æ—¥å¿—ï¼Œç»“åˆæ—¶é—´æˆ³æ’åºç®—æ³•ï¼ˆåŸºäºäº‹ä»¶æ—¶é—´ï¼‰ç¡®ä¿æ•°æ®é¡ºåºä¸€è‡´ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç®—æ³•ä¼˜åŒ–&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ä¸€è‡´æ€§å“ˆå¸Œ&lt;/strong>ï¼šåœ¨ Kafka åˆ†åŒºåˆ†é…ä¸­ï¼Œä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å‡å°‘æ•°æ®è¿ç§»æˆæœ¬ï¼Œæ”¯æŒåŠ¨æ€æ‰©å®¹ï¼ˆä» 16 åˆ†åŒºæ‰©å±•åˆ° 64 åˆ†åŒºï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>å¸ƒéš†è¿‡æ»¤å™¨&lt;/strong>ï¼šåœ¨æ¶ˆè´¹è€…ç«¯ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨å¿«é€Ÿæ£€æµ‹é‡å¤æ¶ˆæ¯ï¼Œé™ä½é‡å¤å¤„ç†æ¦‚ç‡ï¼ˆè¯¯åˆ¤ç‡ &amp;lt; 0.01%ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="2-æ ‡å‡†åŒ–äº¤æ˜“å»ºæ¨¡">2ï¸âƒ£ æ ‡å‡†åŒ–äº¤æ˜“å»ºæ¨¡
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>ç»Ÿä¸€æ¨¡å‹&lt;/strong>ï¼šå°†è®¢å•ã€é€€æ¬¾ã€è½¬è´¦ç­‰äº¤æ˜“ç±»å‹æ˜ å°„ä¸ºâ€œäº¤æ˜“äº‹ä»¶ + è´¦æˆ·å˜åŒ–â€æ¨¡å‹ï¼Œæ ¸å¿ƒå­—æ®µåŒ…æ‹¬ï¼š
&lt;ul>
&lt;li>äº¤æ˜“ IDï¼ˆå…¨å±€å”¯ä¸€ï¼ŒUUID v4 ç”Ÿæˆï¼‰&lt;/li>
&lt;li>è´¦æˆ· ID&lt;/li>
&lt;li>äº¤æ˜“æ—¶é—´ï¼ˆæ”¯æŒ UTC å’Œæœ¬åœ°åŒ–æ ¼å¼ï¼‰&lt;/li>
&lt;li>äº¤æ˜“é‡‘é¢ï¼ˆæ”¯æŒå¤šå¸ç§ï¼Œç²¾åº¦åˆ° 6 ä½å°æ•°ï¼‰&lt;/li>
&lt;li>äº¤æ˜“æ–¹å‘ï¼ˆæ”¶å…¥/æ”¯å‡ºï¼‰&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>å›½é™…åŒ–æ”¯æŒ&lt;/strong>ï¼šé‡‘é¢å­—æ®µå­˜å‚¨åŸå§‹å¸ç§å’Œæ±‡ç‡æ¢ç®—åçš„ç»Ÿä¸€å¸ç§ï¼ˆå¦‚ USDï¼‰ï¼›æ—¶é—´å­—æ®µæ”¯æŒå¤šæ—¶åŒºæ ¼å¼ï¼Œé‡‡ç”¨ ISO 8601 æ ‡å‡†ã€‚&lt;/li>
&lt;li>&lt;strong>åˆè§„æ€§&lt;/strong>ï¼šæ•æ„Ÿå­—æ®µï¼ˆå¦‚è´¦æˆ· IDï¼‰ä½¿ç”¨ AES-256 åŠ å¯†å­˜å‚¨ï¼Œå®¡è®¡æ—¥å¿—ä¿ç•™ 7 å¹´ï¼Œç¬¦åˆ GDPR å’Œé‡‘èç›‘ç®¡è¦æ±‚ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="3-æ•°æ®æ¸…æ´—ä¸åˆå¹¶ç­–ç•¥">3ï¸âƒ£ æ•°æ®æ¸…æ´—ä¸åˆå¹¶ç­–ç•¥
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>äº‹ä»¶æ—¶é—´æ’åº&lt;/strong>ï¼šä»¥äº‹ä»¶æ—¶é—´ä¸ºä¸»è½´ï¼Œä½¿ç”¨å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sortï¼‰åˆå¹¶å¤šæºæ•°æ®æµï¼Œç¡®ä¿èµ„é‡‘æµè½¬é“¾æ¡çš„é€»è¾‘ä¸€è‡´æ€§ï¼Œæ—¶é—´å¤æ‚åº¦ O(n log n)ã€‚&lt;/li>
&lt;li>&lt;strong>å¼‚å¸¸å¤„ç†&lt;/strong>ï¼šé‡‘é¢ç¼ºå¤±ã€é‡å¤äº¤æ˜“ç­‰å¼‚å¸¸æ•°æ®è¿›å…¥å®¡è®¡è¡¨ã€‚é‡‡ç”¨åŸºäºè§„åˆ™çš„å¼‚å¸¸æ£€æµ‹ç®—æ³•ï¼ˆç»“åˆé˜ˆå€¼å’Œæ¨¡å¼åŒ¹é…ï¼‰è¯†åˆ«é—®é¢˜æ•°æ®ï¼Œæ”¯æŒäººå·¥ä¿®æ­£æˆ–è‡ªåŠ¨å›è¡¥ï¼ˆåŸºäº Saga æ¨¡å¼ï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>èšåˆæ”¯æŒ&lt;/strong>ï¼šç”ŸæˆæŒ‰å¤©ã€æŒ‰æœˆã€æŒ‰è´¦æˆ·ç»´åº¦çš„èšåˆè¡¨ï¼Œå­˜å‚¨åœ¨ ClickHouseï¼Œä½¿ç”¨ HyperLogLog ç®—æ³•è¿›è¡Œè¿‘ä¼¼è®¡æ•°ï¼Œå‡å°‘å­˜å‚¨å’Œè®¡ç®—å¼€é”€ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç®—æ³•ä¼˜åŒ–&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>HyperLogLog&lt;/strong>ï¼šåœ¨èšåˆè®¡ç®—ä¸­ï¼Œä½¿ç”¨ HyperLogLog ç®—æ³•ä¼°ç®—å”¯ä¸€äº¤æ˜“æ•°ï¼Œè¯¯å·® &amp;lt; 1%ï¼Œå†…å­˜å ç”¨é™ä½ 80%ã€‚&lt;/li>
&lt;li>&lt;strong>æ»‘åŠ¨çª—å£&lt;/strong>ï¼šå¯¹äºå®æ—¶å¼‚å¸¸æ£€æµ‹ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼ˆæ—¶é—´çª—å£ 5 åˆ†é’Ÿï¼‰åˆ†æé«˜é¢‘äº¤æ˜“è¡Œä¸ºï¼Œé™ä½è¯¯æŠ¥ç‡ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="4-åˆ†åº“åˆ†è¡¨ä¸æ‰©å±•æ€§">4ï¸âƒ£ åˆ†åº“åˆ†è¡¨ä¸æ‰©å±•æ€§
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>åˆ†è¡¨è§„åˆ™&lt;/strong>ï¼šä¸»äº¤æ˜“è¡¨æŒ‰ &lt;code>user_id % 256&lt;/code> åˆ†è¡¨ï¼Œä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æ”¯æŒåŠ¨æ€æ‰©å®¹ï¼Œå‡å°‘æ•°æ®è¿ç§»æˆæœ¬ã€‚&lt;/li>
&lt;li>&lt;strong>ç´¢å¼•ä¼˜åŒ–&lt;/strong>ï¼šå»ºç«‹è”åˆç´¢å¼•ï¼ˆ&lt;code>user_id + äº¤æ˜“æ—¶é—´&lt;/code>ï¼‰ï¼Œé‡‡ç”¨ B+ æ ‘ç´¢å¼•ç»“æ„ï¼Œæ”¯æŒé«˜æ•ˆåˆ†é¡µå’Œè·³é¡µæŸ¥è¯¢ã€‚&lt;/li>
&lt;li>&lt;strong>æ‰©å±•æ€§è®¾è®¡&lt;/strong>ï¼š
&lt;ul>
&lt;li>MySQLï¼šé€šè¿‡ ProxySQL å®ç°è¯»å†™åˆ†ç¦»ï¼Œæ”¯æŒåŠ¨æ€æ–°å¢åˆ†ç‰‡ã€‚&lt;/li>
&lt;li>ClickHouseï¼šé‡‡ç”¨åˆ†å¸ƒå¼é›†ç¾¤ï¼ˆ3 åˆ†ç‰‡ + 2 å‰¯æœ¬ï¼‰ï¼Œæ”¯æŒäº¿çº§æ•°æ®é‡ã€‚&lt;/li>
&lt;li>Redisï¼šä½¿ç”¨é›†ç¾¤æ¨¡å¼ï¼Œè‡ªåŠ¨åˆ†ç‰‡ï¼Œé˜²æ­¢å•ç‚¹ç“¶é¢ˆã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç®—æ³•ä¼˜åŒ–&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ä¸€è‡´æ€§å“ˆå¸Œ&lt;/strong>ï¼šåˆ†åº“åˆ†è¡¨åŠ¨æ€æ‰©å®¹æ—¶ï¼Œä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æœ€å°åŒ–æ•°æ®è¿ç§»ï¼Œè¿ç§»é‡ä»å…¨é‡è¿ç§»é™è‡³ &amp;lt; 10%ã€‚&lt;/li>
&lt;li>&lt;strong>å‰ç¼€ç´¢å¼•&lt;/strong>ï¼šåœ¨ MySQL è”åˆç´¢å¼•ä¸­ï¼Œé’ˆå¯¹é«˜é€‰æ‹©æ€§å­—æ®µï¼ˆå¦‚ &lt;code>user_id&lt;/code>ï¼‰ä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œå‡å°‘ç´¢å¼•å­˜å‚¨ç©ºé—´ 30%ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="5-ç¼“å­˜ä¸å»¶è¿Ÿèšåˆ">5ï¸âƒ£ ç¼“å­˜ä¸å»¶è¿Ÿèšåˆ
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>ç¼“å­˜è®¾è®¡&lt;/strong>ï¼šé«˜é¢‘æŸ¥è¯¢ï¼ˆå¦‚è´¦æˆ·ä½™é¢ã€æœ€è¿‘ 30 å¤©æµæ°´ï¼‰å­˜å‚¨åœ¨ Redis é›†ç¾¤ï¼ˆHash ç»“æ„ï¼‰ï¼ŒTTL è®¾ç½®ä¸º 24 å°æ—¶ã€‚ä½¿ç”¨ LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ç®—æ³•ç®¡ç†ç¼“å­˜æ·˜æ±°ã€‚&lt;/li>
&lt;li>&lt;strong>èšåˆè°ƒåº¦&lt;/strong>ï¼šT+0 æ•°æ®æ¯å°æ—¶æ›´æ–°ï¼ŒT+1 æ•°æ®æ¬¡æ—¥å…¨é‡åˆ·æ–°ï¼Œä½¿ç”¨ Airflow è°ƒåº¦ç¦»çº¿ä»»åŠ¡ã€‚èšåˆè®¡ç®—é‡‡ç”¨ MapReduce æ¨¡å‹ï¼Œåˆ†å¸ƒå¼å¤„ç†å¤šç»´åº¦ç»Ÿè®¡ã€‚&lt;/li>
&lt;li>&lt;strong>ç»“æœå­˜å‚¨&lt;/strong>ï¼šå¤šç»´èšåˆç»“æœå†™å…¥ ClickHouseï¼Œæ”¯æŒ BI çœ‹æ¿å’ŒæŠ¥è¡¨å¯¼å‡ºï¼ˆCSV/Excelï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>ç®—æ³•ä¼˜åŒ–&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>LRU ç¼“å­˜&lt;/strong>ï¼šRedis ä½¿ç”¨ LRU ç®—æ³•ç®¡ç†ç¼“å­˜ï¼Œå‘½ä¸­ç‡æå‡è‡³ 95%ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›ã€‚&lt;/li>
&lt;li>&lt;strong>è¿‘ä¼¼èšåˆ&lt;/strong>ï¼šåœ¨ ClickHouse ä¸­ï¼Œä½¿ç”¨ HyperLogLog å’Œ QuantileTDigest ç®—æ³•è¿›è¡Œè¿‘ä¼¼èšåˆï¼Œè®¡ç®—é€Ÿåº¦æå‡ 3 å€ï¼Œå­˜å‚¨ç©ºé—´èŠ‚çœ 50%ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-æ€§èƒ½ä¼˜åŒ–å®è·µ">âš™ï¸ æ€§èƒ½ä¼˜åŒ–å®è·µ
&lt;/h2>&lt;p>é’ˆå¯¹åƒä¸‡çº§äº¤æ˜“é‡çš„æ€§èƒ½æŒ‘æˆ˜ï¼Œæˆ‘ä»¬å®æ–½äº†ä»¥ä¸‹ä¼˜åŒ–ï¼Œç»“åˆå…·ä½“ç®—æ³•æå‡æ•ˆç‡ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>é—®é¢˜&lt;/strong>&lt;/th>
&lt;th>&lt;strong>è§£å†³æ–¹æ¡ˆ&lt;/strong>&lt;/th>
&lt;th>&lt;strong>ç®—æ³•/ä¼˜åŒ–&lt;/strong>&lt;/th>
&lt;th>&lt;strong>æ•ˆæœ&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>ä¸»è¡¨æ•°æ®é‡å¤§ï¼Œæ…¢ SQL å¤š&lt;/strong>&lt;/td>
&lt;td>åˆ†åŒºè¡¨ + è”åˆç´¢å¼• + æŸ¥è¯¢é‡å†™ï¼ˆå¦‚å€’æ’é¡µï¼‰&lt;/td>
&lt;td>B+ æ ‘ç´¢å¼• + æŸ¥è¯¢ä¼˜åŒ–å™¨&lt;/td>
&lt;td>æŸ¥è¯¢å“åº”ä» 10s é™è‡³ 1s ä»¥å†…&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>åŒä¸€è´¦å·é«˜é¢‘è®¿é—®&lt;/strong>&lt;/td>
&lt;td>Redis é›†ç¾¤ç¼“å­˜ï¼ˆHash ç»“æ„ï¼‰ + ç¼“å­˜é¢„çƒ­&lt;/td>
&lt;td>LRU ç®—æ³• + å¸ƒéš†è¿‡æ»¤å™¨&lt;/td>
&lt;td>ç¼“å­˜å‘½ä¸­ç‡ &amp;gt; 95%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å¤šç§Ÿæˆ·æƒé™åˆ‡æ¢&lt;/strong>&lt;/td>
&lt;td>ç§Ÿæˆ· ID ä¸‹æ¨åˆ° SQL + RBAC æƒé™æ ¡éªŒ&lt;/td>
&lt;td>å“ˆå¸Œè¡¨æƒé™æ ¡éªŒ&lt;/td>
&lt;td>æ•°æ®éš”ç¦»ï¼Œå“åº”æ—¶é—´ &amp;lt; 150ms&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>èšåˆä»»åŠ¡å½±å“åœ¨çº¿æŸ¥è¯¢&lt;/strong>&lt;/td>
&lt;td>ç¦»çº¿ä»»åŠ¡ä¼˜å…ˆçº§éš”ç¦» + å¼‚æ­¥ä»»åŠ¡é“¾ï¼ˆAirflowï¼‰&lt;/td>
&lt;td>MapReduce åˆ†å¸ƒå¼è®¡ç®—&lt;/td>
&lt;td>åœ¨çº¿æŸ¥è¯¢ç¨³å®šï¼Œå»¶è¿Ÿ &amp;lt; 150ms&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>å¼‚å¸¸äº¤æ˜“æ£€æµ‹å»¶è¿Ÿ&lt;/strong>&lt;/td>
&lt;td>å®æ—¶æµå¼å¤„ç†ï¼ˆFlinkï¼‰ + æ»‘åŠ¨çª—å£å¼‚å¸¸æ£€æµ‹&lt;/td>
&lt;td>æ»‘åŠ¨çª—å£ + åŸºäºè§„åˆ™çš„å¼‚å¸¸æ£€æµ‹ â„“&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>æ€§èƒ½æˆæœ&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æ—¥äº¤æ˜“å¤„ç†èƒ½åŠ›&lt;/strong>ï¼š&amp;gt; 1.2 äº¿æ¡ï¼Œå†™å…¥å»¶è¿Ÿ 3~5 ç§’ã€‚&lt;/li>
&lt;li>&lt;strong>æŸ¥è¯¢æ€§èƒ½&lt;/strong>ï¼šæ¥å£å¹³å‡å“åº”æ—¶é—´ &amp;lt; 150msï¼Œ95% è¯·æ±‚å‘½ä¸­ç¼“å­˜ã€‚&lt;/li>
&lt;li>&lt;strong>å¼‚å¸¸æ£€æµ‹&lt;/strong>ï¼šå®æ—¶é£æ§åœºæ™¯ä¸‹ï¼Œå¼‚å¸¸äº¤æ˜“æ£€æµ‹å»¶è¿Ÿ &amp;lt; 1 ç§’ï¼Œè¯¯æŠ¥ç‡ &amp;lt; 0.5%ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-ç¨³å®šæ€§ä¸å®‰å…¨ä¿éšœ">ğŸ” ç¨³å®šæ€§ä¸å®‰å…¨ä¿éšœ
&lt;/h2>&lt;h3 id="ç¨³å®šæ€§ä¿éšœ">ç¨³å®šæ€§ä¿éšœ
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>ä»»åŠ¡ç›‘æ§&lt;/strong>ï¼šETL å’Œèšåˆä»»åŠ¡ç”± Airflow è°ƒåº¦ï¼Œç›‘æ§æ‰§è¡Œæ—¶é—´ã€æˆåŠŸç‡ï¼Œå¼‚å¸¸è§¦å‘å‘Šè­¦ã€‚&lt;/li>
&lt;li>&lt;strong>é“¾è·¯ç›‘æ§&lt;/strong>ï¼šPrometheus + Grafana è¦†ç›–æ•°æ®é‡‡é›†ã€å¤„ç†ã€å­˜å‚¨ã€æŸ¥è¯¢å…¨é“¾è·¯ï¼Œå®æ—¶ç›‘æ§ QPSã€å»¶è¿Ÿã€é”™è¯¯ç‡ã€‚&lt;/li>
&lt;li>&lt;strong>æ•…éšœæ¢å¤&lt;/strong>ï¼š
&lt;ul>
&lt;li>MySQL ä¸»ä»åˆ‡æ¢ï¼ˆ&amp;lt; 30 ç§’ï¼‰ï¼Œæ”¯æŒè·¨åŒºåŸŸå®¹ç¾ã€‚&lt;/li>
&lt;li>Kafka å’Œ ClickHouse å‰¯æœ¬æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®é«˜å¯ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>SLA ä¿éšœ&lt;/strong>ï¼šç³»ç»Ÿå¯ç”¨æ€§è¾¾ 99.99%ï¼ŒæŸ¥è¯¢å“åº”æ—¶é—´ç›®æ ‡ &amp;lt; 200msã€‚&lt;/li>
&lt;li>&lt;strong>æµé‡å³°å€¼åº”å¯¹&lt;/strong>ï¼šé€šè¿‡ Nginx é™æµã€ç†”æ–­æœºåˆ¶å’Œé™çº§ç­–ç•¥ï¼ˆå¦‚åªè¯»ç¼“å­˜ï¼‰ï¼Œåº”å¯¹çªå‘æµé‡ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å®‰å…¨æ€§è®¾è®¡">å®‰å…¨æ€§è®¾è®¡
&lt;/h3>&lt;ul>
&lt;li>&lt;strong>æƒé™æ§åˆ¶&lt;/strong>ï¼šåŸºäº RBAC æ¨¡å‹ï¼Œç§Ÿæˆ· ID ä¸‹æ¨åˆ° SQL å±‚ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨å¿«é€Ÿæ ¡éªŒæƒé™ï¼Œé˜²æ­¢è¶Šæƒè®¿é—®ã€‚&lt;/li>
&lt;li>&lt;strong>æ•°æ®åŠ å¯†&lt;/strong>ï¼šæ•æ„Ÿæ•°æ®ï¼ˆå¦‚è´¦æˆ· IDã€é‡‘é¢ï¼‰ä½¿ç”¨ AES-256 åŠ å¯†å­˜å‚¨ã€‚&lt;/li>
&lt;li>&lt;strong>åˆè§„æ€§&lt;/strong>ï¼šå®¡è®¡æ—¥å¿—ä¿ç•™ 7 å¹´ï¼Œæ»¡è¶³ GDPR å’Œé‡‘èç›‘ç®¡è¦æ±‚ï¼›æ”¯æŒæ•°æ®åŒ¿ååŒ–å¤„ç†ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-æˆæœ¬ä¼˜åŒ–">ğŸ’° æˆæœ¬ä¼˜åŒ–
&lt;/h2>&lt;p>ä¸ºå¹³è¡¡æ€§èƒ½ä¸æˆæœ¬ï¼Œæˆ‘ä»¬é‡‡å–ä»¥ä¸‹æªæ–½ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å†·çƒ­åˆ†ç¦»&lt;/strong>ï¼š
&lt;ul>
&lt;li>çƒ­æ•°æ®ï¼ˆæœ€è¿‘ 30 å¤©ï¼‰ï¼šå­˜ Redis å’Œ ClickHouseã€‚&lt;/li>
&lt;li>æ¸©æ•°æ®ï¼ˆ1 å¹´å†…ï¼‰ï¼šå­˜ ClickHouse åˆ†å¸ƒå¼é›†ç¾¤ã€‚&lt;/li>
&lt;li>å†·æ•°æ®ï¼ˆ&amp;gt; 1 å¹´ï¼‰ï¼šå½’æ¡£åˆ°å»‰ä»·å­˜å‚¨ï¼ˆå¦‚ AWS S3ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>Kafka ä¼˜åŒ–&lt;/strong>ï¼šè®¾ç½®æ¶ˆæ¯ 7 å¤©è¿‡æœŸï¼Œå¯ç”¨ LZ4 å‹ç¼©ï¼Œé™ä½å­˜å‚¨æˆæœ¬ 40%ã€‚&lt;/li>
&lt;li>&lt;strong>äº‘æœåŠ¡&lt;/strong>ï¼šè¯„ä¼° AWS RDSï¼ˆMySQLï¼‰ã€Elasticacheï¼ˆRedisï¼‰ç­‰äº‘æœåŠ¡ï¼Œå‡å°‘è¿ç»´å¼€é”€ã€‚&lt;/li>
&lt;li>&lt;strong>ç¡¬ä»¶ä¼°ç®—&lt;/strong>ï¼š
&lt;ul>
&lt;li>MySQLï¼š10 å° 16 æ ¸ 64GB æœåŠ¡å™¨ã€‚&lt;/li>
&lt;li>ClickHouseï¼š6 å° 32 æ ¸ 128GB æœåŠ¡å™¨ï¼ˆ3 åˆ†ç‰‡ + 2 å‰¯æœ¬ï¼‰ã€‚&lt;/li>
&lt;li>Redisï¼š4 å° 8 æ ¸ 32GB æœåŠ¡å™¨ï¼ˆé›†ç¾¤æ¨¡å¼ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>æˆæœ&lt;/strong>ï¼šåœ¨æ—¥äº¤æ˜“é‡ 1.2 äº¿æ¡åœºæ™¯ä¸‹ï¼Œæœˆå­˜å‚¨æˆæœ¬æ§åˆ¶åœ¨ 2 ä¸‡ç¾å…ƒä»¥å†…ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="-è¸©å‘ä¸è§£å†³æ¡ˆä¾‹">ğŸ› ï¸ è¸©å‘ä¸è§£å†³æ¡ˆä¾‹
&lt;/h2>&lt;h3 id="æ¡ˆä¾‹-1kafka-æ¶ˆè´¹å»¶è¿Ÿ">æ¡ˆä¾‹ 1ï¼šKafka æ¶ˆè´¹å»¶è¿Ÿ
&lt;/h3>&lt;p>&lt;strong>é—®é¢˜&lt;/strong>ï¼šé«˜å³°æœŸ Kafka æ¶ˆè´¹è€…æ»åï¼Œå»¶è¿Ÿè¾¾ 10 ç§’ã€‚
&lt;strong>åŸå› &lt;/strong>ï¼šå•æ¶ˆè´¹è€…ç»„å¤„ç†èƒ½åŠ›ä¸è¶³ï¼Œéƒ¨åˆ†åˆ†åŒºæ•°æ®å€¾æ–œã€‚
&lt;strong>è§£å†³&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>å¢åŠ æ¶ˆè´¹è€…ç»„åˆ†åŒºæ•°ï¼ˆä» 16 åˆ° 64ï¼‰ã€‚&lt;/li>
&lt;li>ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ä¼˜åŒ–åˆ†åŒºé”®ï¼ˆåŸºäº &lt;code>user_id&lt;/code>ï¼‰ï¼Œå¹³è¡¡æ•°æ®åˆ†å¸ƒã€‚&lt;/li>
&lt;li>å¼•å…¥å¸ƒéš†è¿‡æ»¤å™¨æ£€æµ‹é‡å¤æ¶ˆæ¯ï¼Œé™ä½å¤„ç†å¼€é”€ã€‚
&lt;strong>æ•ˆæœ&lt;/strong>ï¼šæ¶ˆè´¹å»¶è¿Ÿé™è‡³ 1 ç§’ä»¥å†…ï¼Œååé‡æå‡ 2 å€ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="æ¡ˆä¾‹-2clickhouse-çƒ­ç‚¹æŸ¥è¯¢ç“¶é¢ˆ">æ¡ˆä¾‹ 2ï¼šClickHouse çƒ­ç‚¹æŸ¥è¯¢ç“¶é¢ˆ
&lt;/h3>&lt;p>&lt;strong>é—®é¢˜&lt;/strong>ï¼šé«˜é¢‘è´¦æˆ·ä½™é¢æŸ¥è¯¢å¯¼è‡´ ClickHouse å•èŠ‚ç‚¹è´Ÿè½½è¿‡é«˜ã€‚
&lt;strong>åŸå› &lt;/strong>ï¼šçƒ­ç‚¹æ•°æ®é›†ä¸­åœ¨å•ä¸€åˆ†ç‰‡ã€‚
&lt;strong>è§£å†³&lt;/strong>ï¼š&lt;/p>
&lt;ol>
&lt;li>å¯ç”¨ ClickHouse åˆ†å¸ƒå¼è¡¨ï¼Œæ•°æ®å‡åŒ€åˆ†ç‰‡ã€‚&lt;/li>
&lt;li>å¢åŠ  Redis ç¼“å­˜ï¼Œä½¿ç”¨ LRU ç®—æ³•ç®¡ç†ï¼Œé™ä½æ•°æ®åº“å‹åŠ›ã€‚&lt;/li>
&lt;li>ä½¿ç”¨ QuantileTDigest ç®—æ³•ä¼˜åŒ–èšåˆæŸ¥è¯¢ï¼Œå‡å°‘å…¨è¡¨æ‰«æã€‚
&lt;strong>æ•ˆæœ&lt;/strong>ï¼šæŸ¥è¯¢å“åº”æ—¶é—´ä» 2 ç§’é™è‡³ 200msï¼Œè´Ÿè½½å‡è¡¡ã€‚&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="-æŠ€æœ¯é€‰å‹ç†ç”±">ğŸŒ æŠ€æœ¯é€‰å‹ç†ç”±
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>æŠ€æœ¯&lt;/strong>&lt;/th>
&lt;th>&lt;strong>é€‰å‹ç†ç”±&lt;/strong>&lt;/th>
&lt;th>&lt;strong>æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>Kafka&lt;/strong>&lt;/td>
&lt;td>é«˜ååé‡ï¼Œåˆ†å¸ƒå¼æ¶æ„ï¼Œæ”¯æŒæ¶ˆæ¯å›æº¯&lt;/td>
&lt;td>RocketMQï¼ˆéƒ¨ç½²å¤æ‚ï¼‰ï¼ŒRabbitMQï¼ˆååé‡è¾ƒä½ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>MySQL&lt;/strong>&lt;/td>
&lt;td>æˆç†Ÿç¨³å®šï¼Œç”Ÿæ€ä¸°å¯Œï¼Œé€‚åˆç»“æ„åŒ–äº¤æ˜“æ•°æ®&lt;/td>
&lt;td>PostgreSQLï¼ˆå¤æ‚æŸ¥è¯¢ç¨æ…¢ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ClickHouse&lt;/strong>&lt;/td>
&lt;td>é«˜æ€§èƒ½ OLAPï¼Œæ”¯æŒå¤šç»´èšåˆï¼Œåˆ†å¸ƒå¼æ‰©å±•æ€§å¼º&lt;/td>
&lt;td>Elasticsearchï¼ˆå­˜å‚¨æˆæœ¬é«˜ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Redis&lt;/strong>&lt;/td>
&lt;td>é«˜æ€§èƒ½ KV å­˜å‚¨ï¼Œé€‚åˆç¼“å­˜é«˜é¢‘æ•°æ®&lt;/td>
&lt;td>Memcachedï¼ˆåŠŸèƒ½è¾ƒå¼±ï¼‰&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;strong>æƒè¡¡&lt;/strong>ï¼šä¼˜å…ˆé€‰æ‹©æˆç†Ÿã€ç¤¾åŒºæ´»è·ƒçš„æŠ€æœ¯ï¼Œç¡®ä¿é•¿æœŸç»´æŠ¤æ€§å’Œç”Ÿæ€æ”¯æŒï¼›åŒæ—¶è€ƒè™‘æˆæœ¬ä¸æ€§èƒ½å¹³è¡¡ï¼Œé¿å…è¿‡åº¦ä¾èµ–å•ä¸€æŠ€æœ¯ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="-æœªæ¥æ¼”è¿›æ–¹å‘">ğŸš€ æœªæ¥æ¼”è¿›æ–¹å‘
&lt;/h2>&lt;p>ä¸ºæ”¯æŒä¸šåŠ¡å¢é•¿å’ŒæŠ€æœ¯è¶‹åŠ¿ï¼Œæˆ‘ä»¬é¢„ç•™äº†ä»¥ä¸‹æ¼”è¿›ç©ºé—´ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>å®æ—¶æœºå™¨å­¦ä¹ &lt;/strong>ï¼šé›†æˆ Flinkï¼Œæ”¯æŒå®æ—¶é£æ§ï¼ˆå¦‚å¼‚å¸¸äº¤æ˜“æ£€æµ‹ï¼‰å’Œä¸ªæ€§åŒ–æ¨èï¼Œä½¿ç”¨ XGBoost æˆ– Isolation Forest ç®—æ³•è¿›è¡Œå¼‚å¸¸æ£€æµ‹ã€‚&lt;/li>
&lt;li>&lt;strong>æ•°æ®æ¹–é›†æˆ&lt;/strong>ï¼šé€šè¿‡ Delta Lake æ•´åˆä¸­å°æ•°æ®ï¼Œæ”¯æŒå¤æ‚åˆ†æå’Œ AI è®­ç»ƒã€‚&lt;/li>
&lt;li>&lt;strong>å¤šäº‘éƒ¨ç½²&lt;/strong>ï¼šè®¾è®¡å…¼å®¹ AWSã€Azure å’Œé˜¿é‡Œäº‘çš„æ¶æ„ï¼Œæ”¯æŒè·¨äº‘è¿ç§»ã€‚&lt;/li>
&lt;li>&lt;strong>æŠ€æœ¯å‡çº§&lt;/strong>ï¼šè¯„ä¼°æ›¿æ¢ MySQL ä¸º TiDBï¼ˆåˆ†å¸ƒå¼ SQLï¼‰ï¼ŒRedis ä¸º KeyDBï¼ˆæ›´é«˜æ€§èƒ½ï¼‰ã€‚&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>æ„å»ºä¸€ä¸ªæ”¯æŒåƒä¸‡çº§äº¤æ˜“é‡çš„æ•°æ®ä¸­å°ç³»ç»Ÿï¼Œéœ€è¦ç»¼åˆè€ƒè™‘ä»¥ä¸‹æŒ‘æˆ˜ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>æµé‡æ‰¿è½½åŠ›&lt;/strong>ï¼šé«˜å¹¶å‘ã€é«˜ååçš„æ•°æ®å¤„ç†èƒ½åŠ›ï¼›&lt;/li>
&lt;li>&lt;strong>æ•°æ®ä¸€è‡´æ€§&lt;/strong>ï¼šå¤šæºæ•°æ®æ•´åˆä¸å¼ºä¸€è‡´æ€§ä¿éšœï¼›&lt;/li>
&lt;li>&lt;strong>æ‰©å±•æ€§&lt;/strong>ï¼šæ”¯æŒäº¿çº§æ•°æ®é‡å’Œå›½é™…åŒ–åœºæ™¯ï¼›&lt;/li>
&lt;li>&lt;strong>ç®—æ³•ä¼˜åŒ–&lt;/strong>ï¼šä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œã€å¸ƒéš†è¿‡æ»¤å™¨ã€HyperLogLog ç­‰ç®—æ³•æå‡æ•ˆç‡ï¼›&lt;/li>
&lt;li>&lt;strong>å®‰å…¨æ€§ä¸åˆè§„æ€§&lt;/strong>ï¼šå¤šç§Ÿæˆ·éš”ç¦»ä¸ç›‘ç®¡è¦æ±‚ï¼›&lt;/li>
&lt;li>&lt;strong>æˆæœ¬æ•ˆç‡&lt;/strong>ï¼šæ€§èƒ½ä¸èµ„æºæˆæœ¬çš„å¹³è¡¡ï¼›&lt;/li>
&lt;li>&lt;strong>å¯è§‚æµ‹æ€§&lt;/strong>ï¼šå…¨é“¾è·¯ç›‘æ§ä¸å¿«é€Ÿæ•…éšœæ¢å¤ã€‚&lt;/li>
&lt;/ul>
&lt;p>é€šè¿‡æ ‡å‡†åŒ–å»ºæ¨¡ã€åˆ†å¸ƒå¼å­˜å‚¨ã€ç®—æ³•ä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥ã€è°ƒåº¦éš”ç¦»å’Œç›‘æ§ä½“ç³»ï¼Œæˆ‘ä»¬å®ç°äº†æ—¥å¤„ç† 1.2 äº¿æ¡äº¤æ˜“ã€æŸ¥è¯¢å“åº” &amp;lt; 150ms çš„é«˜æ€§èƒ½ä¸­å°ç³»ç»Ÿã€‚å¸Œæœ›æœ¬æ–‡çš„ç»éªŒä¸æ¡ˆä¾‹èƒ½ä¸ºä½ çš„æ•°æ®ä¸­å°å»ºè®¾æä¾›å€Ÿé‰´ã€‚&lt;/p></description></item></channel></rss>